<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ‰ Jeux du Nouvel An</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <!-- ==================== Ã‰CRAN D'ACCUEIL ==================== -->
    <div id="home-screen" class="screen active">
      <div class="logo">ğŸ‰</div>
      <h1>Jeux du Nouvel An</h1>
      <p class="subtitle">Choisissez votre jeu et amusez-vous !</p>
      
      <div class="form-group">
        <input type="text" id="player-name" placeholder="Ton prÃ©nom" maxlength="20">
      </div>
      
      <div class="game-selector">
        <h3>Choisir un jeu :</h3>
        <div class="game-options">
          <label class="game-option selected" data-game="hotseat">
            <input type="radio" name="game" value="hotseat" checked>
            <div class="game-card">
              <span class="game-icon">ğŸ”¥</span>
              <span class="game-name">Hot Seat</span>
              <span class="game-desc">Qui est le plus susceptible de...</span>
            </div>
          </label>
          <label class="game-option" data-game="undercover">
            <input type="radio" name="game" value="undercover">
            <div class="game-card">
              <span class="game-icon">ğŸ•µï¸</span>
              <span class="game-name">Undercover</span>
              <span class="game-desc">Trouvez l'imposteur !</span>
            </div>
          </label>
          <label class="game-option" data-game="roulette">
            <input type="radio" name="game" value="roulette">
            <div class="game-card">
              <span class="game-icon">ğŸ°</span>
              <span class="game-name">Roulette</span>
              <span class="game-desc">Duel de boisson !</span>
            </div>
          </label>
        </div>
      </div>
      
      <div class="buttons">
        <button id="create-room-btn" class="btn btn-primary">
          âœ¨ CrÃ©er une partie
        </button>
        <button id="join-room-btn" class="btn btn-secondary">
          ğŸšª Rejoindre une partie
        </button>
      </div>
      
      <div id="join-form" class="hidden">
        <div class="form-group">
          <input type="text" id="room-code" placeholder="Code de la partie" maxlength="6">
        </div>
        <button id="confirm-join-btn" class="btn btn-primary">
          Rejoindre
        </button>
      </div>
    </div>

    <!-- ==================== ROULETTE - CHOIX MODE ==================== -->
    <div id="roulette-mode-screen" class="screen">
      <h2>ğŸ° Roulette</h2>
      <p class="subtitle">Comment voulez-vous jouer ? </p>
      
      <div class="roulette-mode-options">
        <button id="roulette-local-btn" class="btn btn-mode">
          <span class="mode-icon">ğŸ‘¥</span>
          <span class="mode-title">Face Ã  face</span>
          <span class="mode-subtitle">Sur le mÃªme tÃ©lÃ©phone</span>
        </button>
        <button id="roulette-online-btn" class="btn btn-mode">
          <span class="mode-icon">ğŸŒ</span>
          <span class="mode-title">Ã€ distance</span>
          <span class="mode-subtitle">Chacun son tÃ©lÃ©phone</span>
        </button>
      </div>
      
      <button id="roulette-back-btn" class="btn btn-secondary">
        â† Retour
      </button>
    </div>

    <!-- ==================== ROULETTE - MODE LOCAL (SAISIE NOMS) ==================== -->
    <div id="roulette-local-setup-screen" class="screen">
      <h2>ğŸ° Roulette - Face Ã  face</h2>
      <p class="subtitle">Entrez les noms des deux joueurs</p>
      
      <div class="roulette-players-form">
        <div class="form-group">
          <label>Joueur 1 :</label>
          <input type="text" id="roulette-player1-name" placeholder="Nom du joueur 1" maxlength="20">
        </div>
        <div class="vs-divider">VS</div>
        <div class="form-group">
          <label>Joueur 2 :</label>
          <input type="text" id="roulette-player2-name" placeholder="Nom du joueur 2" maxlength="20">
        </div>
      </div>
      
      <button id="roulette-local-start-btn" class="btn btn-primary">
        ğŸ° Commencer ! 
      </button>
      
      <button id="roulette-local-back-btn" class="btn btn-secondary">
        â† Retour
      </button>
    </div>

    <!-- ==================== ROULETTE - MODE ONLINE (ATTENTE) ==================== -->
    <div id="roulette-online-lobby-screen" class="screen">
      <h2>ğŸ° Roulette - Ã€ distance</h2>
      
      <div class="room-code-display">
        Code :  <span id="roulette-room-code"></span>
        <button id="roulette-copy-code-btn" class="btn-small">ğŸ“‹</button>
      </div>
      
      <div class="roulette-players-status">
        <div class="roulette-player-slot" id="roulette-slot-1">
          <span class="slot-icon">ğŸ‘¤</span>
          <span class="slot-name" id="roulette-slot-1-name">En attente...</span>
        </div>
        <div class="vs-divider">VS</div>
        <div class="roulette-player-slot" id="roulette-slot-2">
          <span class="slot-icon">ğŸ‘¤</span>
          <span class="slot-name" id="roulette-slot-2-name">En attente...</span>
        </div>
      </div>
      
      <button id="roulette-online-start-btn" class="btn btn-primary hidden">
        ğŸ° Commencer !
      </button>
      
      <p id="roulette-waiting-message" class="waiting-text">
        En attente d'un adversaire...
      </p>
      
      <button id="roulette-online-back-btn" class="btn btn-secondary">
        â† Retour
      </button>
    </div>

    <!-- ==================== ROULETTE - JEU ==================== -->
    <!-- ==================== ROULETTE - JEU ==================== -->
    <div id="roulette-game-screen" class="screen">
      <div class="roulette-header">
        <div class="roulette-player roulette-player-1">
          <span class="roulette-player-icon">ğŸº</span>
          <span class="roulette-player-name" id="roulette-p1-name">Joueur 1</span>
          <span class="roulette-player-score" id="roulette-p1-score">0 verre</span>
        </div>
        <div class="roulette-vs">VS</div>
        <div class="roulette-player roulette-player-2">
          <span class="roulette-player-icon">ğŸº</span>
          <span class="roulette-player-name" id="roulette-p2-name">Joueur 2</span>
          <span class="roulette-player-score" id="roulette-p2-score">0 verre</span>
        </div>
      </div>
      
      <div class="roulette-wheel-container">
        <div class="roulette-wheel" id="roulette-wheel">
          <div class="wheel-center">ğŸ°</div>
        </div>
        <div class="roulette-pointer">â–¼</div>
      </div>
      
      <!-- LÃ©gende des couleurs -->
      <div class="wheel-legend-container">
        <h4>ğŸ¨ LÃ©gende</h4>
        <div class="wheel-legend" id="wheel-legend"></div>
      </div>
      
      <div class="roulette-result hidden" id="roulette-result">
        <div class="result-color" id="roulette-result-color"></div>
        <div class="result-text" id="roulette-result-text"></div>
      </div>
      
      <button id="spin-wheel-btn" class="btn btn-primary btn-spin">
        ğŸ° Tourner la roue ! 
      </button>
      
      <div class="roulette-actions hidden" id="roulette-actions">
        <button id="spin-again-btn" class="btn btn-primary">
          ğŸ”„ Rejouer
        </button>
        <button id="roulette-quit-btn" class="btn btn-secondary">
          ğŸ  Quitter
        </button>
      </div>
    </div>

    <!-- ==================== SALON D'ATTENTE ==================== -->
    <div id="lobby-screen" class="screen">
      <h2>ğŸŠ Salon d'attente</h2>
      
      <div class="current-game-display">
        <span id="current-game-icon">ğŸ”¥</span>
        <span id="current-game-name">Hot Seat</span>
      </div>
      
      <div class="room-code-display">
        Code : <span id="display-room-code"></span>
        <button id="copy-code-btn" class="btn-small">ğŸ“‹</button>
      </div>
      
      <div class="players-list">
        <h3>Joueurs (<span id="player-count">0</span>)</h3>
        <ul id="players-list"></ul>
      </div>
      
      <!-- Options Hot Seat (visible seulement pour l'hÃ´te en mode Hot Seat) -->
      <div id="hotseat-options" class="game-options-section hidden">
        <h3>ğŸ“ Type de questions</h3>
        <div class="question-mode-selector">
          <label class="mode-option selected" data-mode="default">
            <input type="radio" name="question-mode" value="default" checked>
            <div class="mode-card">
              <span class="mode-icon">ğŸ²</span>
              <span class="mode-name">Questions alÃ©atoires</span>
              <span class="mode-desc">30 questions prÃ©dÃ©finies</span>
            </div>
          </label>
          <label class="mode-option" data-mode="custom">
            <input type="radio" name="question-mode" value="custom">
            <div class="mode-card">
              <span class="mode-icon">âœï¸</span>
              <span class="mode-name">Questions personnalisÃ©es</span>
              <span class="mode-desc">Chaque joueur propose 0 Ã  3 questions</span>
            </div>
          </label>
        </div>
      </div>
      <div id="undercover-options" class="game-options-section hidden">
        <h3>âš™ï¸ ParamÃ¨tres de la partie</h3>
        
        <div class="setting-row">
          <label>ğŸ•µï¸ Nombre d'Undercovers :</label>
          <div class="number-control">
            <button id="btn-less-uc" class="btn-mini">-</button>
            <span id="uc-count-display">1</span>
            <button id="btn-more-uc" class="btn-mini">+</button>
          </div>
        </div>

        <div class="setting-row">
          <label>ğŸ­ Inclure Mr. White :</label>
          <label class="switch">
            <input type="checkbox" id="mr-white-check">
            <span class="slider round"></span>
          </label>
        </div>

        <div class="setting-row">
          <label>ğŸ‘ï¸ L'Undercover connait son rÃ´le :</label>
          <label class="switch">
            <input type="checkbox" id="reveal-uc-check">
            <span class="slider round"></span>
          </label>
        </div>
      </div>
      
      <div id="host-controls" class="hidden">
        <div class="game-selector-lobby">
          <label class="game-option-small selected" data-game="hotseat">
            <input type="radio" name="game-lobby" value="hotseat" checked>
            <span>ğŸ”¥ Hot Seat</span>
          </label>
          <label class="game-option-small" data-game="undercover">
            <input type="radio" name="game-lobby" value="undercover">
            <span>ğŸ•µï¸ Undercover</span>
          </label>
        </div>
        <div class="action-buttons">
          <button id="hotseat-back-btn" class="btn btn-secondary">
            â† Retour
          </button>
          <button id="start-game-btn" class="btn btn-primary">
            ğŸš€ Lancer la partie
          </button>
        </div>
      </div>
      
      <p id="waiting-message" class="waiting-text">
        En attente du lancement par l'hÃ´te...
      </p>
      
      <div id="game-rules" class="rules-box">
        <h4>ğŸ“– RÃ¨gles</h4>
        <div id="rules-content"></div>
      </div>
    </div>

    <!-- ==================== Ã‰CRAN SOUMISSION QUESTIONS ==================== -->
    <div id="questions-submit-screen" class="screen">
      <h2>âœï¸ Propose tes questions !</h2>
      <p class="subtitle">Chaque joueur propose 3 questions.<br>Laisse vide si tu manques d'inspiration.</p>
      
      <div class="word-reminder">
        â³ <span id="questions-submitted-count">0</span>/<span id="questions-total-players">0</span> joueurs ont validÃ©
      </div>
      
      <div class="questions-form">
        <div class="question-input-group">
          <label>Question 1 :</label>
          <div class="question-prefix">Qui est le plus susceptible de...</div>
          <input type="text" class="custom-q-input" placeholder="... finir en prison ?" maxlength="100">
        </div>
        
        <div class="question-input-group">
          <label>Question 2 :</label>
          <div class="question-prefix">Qui est le plus susceptible de...</div>
          <input type="text" class="custom-q-input" placeholder="... devenir millionnaire ?" maxlength="100">
        </div>

        <div class="question-input-group">
          <label>Question 3 :</label>
          <div class="question-prefix">Qui est le plus susceptible de...</div>
          <input type="text" class="custom-q-input" placeholder="... rater son avion ?" maxlength="100">
        </div>
        
        <button id="submit-questions-btn" class="btn btn-primary">
          ğŸ“¤ Valider mes 3 questions
        </button>
      </div>
      
      <div class="submitted-players">
        <h3>âœ… Joueurs prÃªts</h3>
        <ul id="submitted-players-list"></ul>
      </div>
    </div>

    <!-- ==================== HOT SEAT - JEU ==================== -->
    <div id="game-screen" class="screen">
      <div class="question-header">
        <span id="question-number">Question 1/10</span>
      </div>
      
      <div class="question-card">
        <h2 id="question-text"></h2>
      </div>
      
      <div class="vote-status">
        <span id="votes-count">0</span>/<span id="total-players">0</span> ont votÃ©
      </div>
      
      <div id="players-vote-grid" class="players-grid"></div>
      
      <div id="voted-message" class="hidden">
        âœ… Vote enregistrÃ© !  En attente des autres...
      </div>
    </div>

    <!-- ==================== HOT SEAT - RÃ‰SULTATS ==================== -->
    <div id="results-screen" class="screen">
      <div class="results-card">
        <h2>ğŸ† RÃ©sultat</h2>
        <div id="winner-display"></div>
        <div id="vote-details"></div>
      </div>
      
      <button id="next-question-btn" class="btn btn-primary hidden">
        Question suivante â¡ï¸
      </button>
      
      <p id="waiting-next" class="waiting-text hidden">
        En attente de la question suivante...
      </p>
    </div>

    <!-- ==================== HOT SEAT - FIN ==================== -->
    <div id="end-screen" class="screen">
      <h2>ğŸ† Partie terminÃ©e !</h2>
      <div id="final-results"></div>
      
      <button id="restart-btn" class="btn btn-primary hidden">
        ğŸ”„ Nouvelle partie
      </button>
      
      <button id="home-btn" class="btn btn-secondary">
        ğŸ  Retour Ã  l'accueil
      </button>
    </div>

    <!-- ==================== UNDERCOVER - RÃ‰VÃ‰LATION RÃ”LE ==================== -->
    <div id="undercover-role-screen" class="screen">
      <div class="role-reveal">
        <h2>ğŸ¤« Ton rÃ´le secret</h2>
        <div id="role-card" class="role-card">
          <div id="role-icon" class="role-icon">ğŸ‘¤</div>
          <div id="role-name" class="role-name">Civil</div>
          <div class="word-reveal">
            <span>Ton mot :</span>
            <div id="secret-word" class="secret-word">??? </div>
          </div>
        </div>
        <p class="role-tip" id="role-tip"></p>
        <button id="ready-btn" class="btn btn-primary">Je suis prÃªt !  ğŸ‘</button>
      </div>
    </div>

    <!-- ==================== UNDERCOVER - JEU (INDICES ORAUX) ==================== -->
    <div id="undercover-game-screen" class="screen">
      <div id="user-eliminated-banner" class="eliminated-banner hidden">
        ğŸ’€ TU ES Ã‰LIMINÃ‰ ! (Spectateur) ğŸ’€
      </div>
      <div class="undercover-header">
        <span class="round-info">Tour <span id="uc-round-number">1</span></span>
        <span class="player-count-alive">ğŸ§‘â€ğŸ¤â€ğŸ§‘ <span id="alive-count">0</span> en jeu</span>
      </div>
      
      <div id="your-word-reminder-uc" class="word-reminder">
        ğŸ”’ Ton mot : <span id="reminder-word"></span>
      </div>
      
      <div class="current-turn">
        <p>C'est au tour de : </p>
        <div id="current-player-name" class="current-player-name">...</div>
      </div>
      
      <!-- Section quand c'est ton tour -->
      <div id="hint-action-section" class="hint-action hidden">
        <p>ğŸ“¢ Donne ton indice <strong>Ã  voix haute</strong> puis clique : </p>
        <button id="hint-done-btn" class="btn btn-primary pulse">
          âœ… J'ai donnÃ© mon indice
        </button>
      </div>
      
      <!-- Section quand c'est le tour d'un autre -->
      <div id="waiting-hint-section" class="waiting-hint">
        <p>ğŸ‘‚ Ã‰coute bien l'indice...</p>
      </div>
      
      <div class="hints-progress">
        <h3>ğŸ“ Progression</h3>
        <div class="progress-bar">
          <span id="hints-count">0</span> / <span id="hints-total">0</span> indices donnÃ©s
        </div>
        <ul id="hints-given-list"></ul>
      </div>
    </div>

    <!-- ==================== UNDERCOVER - VOTE ==================== -->
    <div id="undercover-vote-screen" class="screen">
      <h2>ğŸ—³ï¸ Qui est l'imposteur ?</h2>
      <p class="vote-instruction">Votez pour la personne que vous soupÃ§onnez !</p>
      
      <div class="vote-status">
        <span id="uc-votes-count">0</span>/<span id="uc-total-players">0</span> ont votÃ©
      </div>
      
      <div id="uc-players-vote-grid" class="players-grid"></div>
      
      <div id="uc-voted-message" class="hidden">
        âœ… Vote enregistrÃ© ! En attente des autres...
      </div>
    </div>

    <!-- ==================== UNDERCOVER - Ã‰LIMINATION ==================== -->
    <div id="undercover-elimination-screen" class="screen">
      <div class="elimination-card">
        <h2>âš¡ Ã‰limination !</h2>
        <div id="eliminated-player-display"></div>
        <div id="elimination-vote-details"></div>
      </div>
      
      <p class="waiting-text">Prochain tour dans quelques secondes...</p>
    </div>

    <!-- ==================== UNDERCOVER - MR.WHITE DEVINE ==================== -->
    <div id="mrwhite-guess-screen" class="screen">
      <div class="mrwhite-card">
        <h2>ğŸ­ DerniÃ¨re chance Mr.White !</h2>
        <p>Tu as Ã©tÃ© dÃ©masquÃ© !  Devine le mot des Civils pour gagner : </p>
        <div class="hint-form">
          <input type="text" id="mrwhite-guess-input" placeholder="Le mot des civils...">
          <button id="mrwhite-guess-btn" class="btn btn-primary">Deviner</button>
        </div>
      </div>
    </div>

    <!-- ==================== UNDERCOVER - FIN ==================== -->
    <div id="undercover-end-screen" class="screen">
      <div class="end-card">
        <h2 id="uc-end-title">ğŸ‰ Fin de la partie !</h2>
        <p id="uc-end-message"></p>
        
        <div class="word-reveal-end">
          <div class="word-pair">
            <div class="word-box civil">
              <span class="label">Mot Civil</span>
              <span id="civil-word" class="word"></span>
            </div>
            <div class="word-box undercover">
              <span class="label">Mot Undercover</span>
              <span id="undercover-word" class="word"></span>
            </div>
          </div>
        </div>
        
        <div class="players-roles">
          <h3>ğŸ‘¥ RÃ´les rÃ©vÃ©lÃ©s</h3>
          <ul id="roles-list"></ul>
        </div>
      </div>
      
      <button id="uc-restart-btn" class="btn btn-primary hidden">
        ğŸ”„ Nouvelle partie
      </button>
      
      <button id="uc-home-btn" class="btn btn-secondary">
        ğŸ  Retour Ã  l'accueil
      </button>
    </div>
  </div>

  <!-- Toast pour les notifications -->
  <div id="toast" class="toast hidden"></div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="app.js"></script>
</body>
</html>